<div class="container-fluid" id="docket-crud">
  <div class="row">
    <div class="col-md-12">
      <h3>{{ crud.mode }} cliente</h3>
    </div>
  </div>
  <hr class="divider" />

  <nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <a class="nav-item nav-link active" id="nav-general-tab" data-toggle="tab" href="#nav-general" role="tab" aria-controls="nav-home" aria-selected="true">General</a>
      <a class="nav-item nav-link" id="nav-users-tab" data-toggle="tab" href="#nav-users" role="tab" aria-controls="nav-users" aria-selected="false">Usuarios</a>
      <a class="nav-item nav-link" id="nav-devices-tab" data-toggle="tab" href="#nav-devices" role="tab" aria-controls="nav-devices" aria-selected="false">Sincronizadores</a>
    </div>
  </nav>

  <div class="tab-content" id="nav-tabContent">

    <div class="tab-pane fade show active" id="nav-general" role="tabpanel" aria-labelledby="nav-general-tab">
      <div class="row">
        <div class="col-md-2">
          <div class="form-group">
            <label for="formGroupExampleInput">CUIT</label>
            <input
              type="text"
              class="form-control"
              placeholder="XX-XXXXXXXX-X"
              required
              pattern="[0-9]{2}-[0-9]{8}-[0-9]{1}"
              [(ngModel)]="crud.model.cuit" />
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="formGroupExampleInput">Razon Social</label>
            <input
              type="text"
              class="form-control"
              placeholder="Razon social"
              required
              [(ngModel)]="crud.model.razon_social" />
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="formGroupExampleInput">Nombre fantasía</label>
            <input
              type="text"
              class="form-control"
              placeholder="Nombre fantasía"
              required
              [(ngModel)]="crud.model.nombre_fantasia" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
            <div class="form-group">
              <label for="formGroupExampleInput">Teléfono</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="fa fa-phone"></i>
                  </span>
                </div>
                <input
                    type="text"
                    class="form-control"
                    placeholder="(XXX) XXXX-XXXX"
                    required
                    [(ngModel)]="crud.model.phone" />
              </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group">
                <label for="formGroupExampleInput">Email</label>
                <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                    <i class="fa fa-envelope"></i>
                    </span>
                </div>
                <input
                    type="text"
                    class="form-control"
                    placeholder="ejemplo@ejemplo.com"
                    required
                    [(ngModel)]="crud.model.email" />
                </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="formGroupExampleInput">Dirección</label>
                <div class="input-group">
                <input
                    type="text"
                    class="form-control"
                    placeholder="Dirección"
                    required
                    [(ngModel)]="crud.model.address" />
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label for="formGroupExampleInput">Estado / Provincia</label>
                <div class="input-group">
                <input
                    type="text"
                    class="form-control"
                    placeholder="Estado / Provincia"
                    required
                    [(ngModel)]="crud.model.state" />
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group">
              <label for="formGroupExampleInput">País</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="fa fa-globe"></i>
                  </span>
                </div>
                <select
                  class="form-control"
                  size="1">
                  <option value="">Seleccione...</option>
                  <option value="1">Argentina</option>
                  <option value="2">Uruguay</option>
                </select>
              </div>
            </div>
          </div>
      </div>
    </div>


    <div class="tab-pane fade" id="nav-users" role="tabpanel" aria-labelledby="nav-users-tab">
        <div class="row">
            <div class="col-md-2">
                <div class="form-group">
                  <label for="formGroupExampleInput">Nombre</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Nombre"
                    [(ngModel)]="crudUser.first_name" />
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                  <label for="formGroupExampleInput">Apellido</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Apellido"
                    [(ngModel)]="crudUser.last_name" />
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                  <label for="formGroupExampleInput">Email</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Email"
                    [(ngModel)]="crudUser.email" />
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                  <label for="formGroupExampleInput">Rol</label>
                  <div class="input-group">
                    <select
                      class="form-control"
                      size="1">
                      <option value="">Seleccione...</option>
                      <option value="1">Administrador</option>
                      <option value="2">¿Otro?</option>
                    </select>
                  </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="btn btn-success btn-sm" style="margin-top: 35px;" (click)="onAddUserClick()">[+] Agregar</div>
            </div>
        </div>
        <hr class="divider" />
        <div class="row">
          <div class="col-md-12">
            <table datatable [dtOptions]="dtUsers" class="table table-striped table-bordered dt-responsive nowrap">
              <thead>
                <tr>
                  <th>Persona</th>
                  <th>Email</th>
                  <th>Estado</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of crud.model.users" >
                  <td>{{ user.first_name }} {{ user.last_name }}</td>
                  <td>{{ user.email }}</td>
                  <td>{{ user.state }}</td>
                  <td>
                    <a class="btn btn-danger btn-sm delete-smt-btn spacingLeft" (click)="onDeleteUserClick(user.encrypted_id)" data-toggle="tooltip" data-placement="top" title="Eliminar"><i class="fa fa-times" aria-hidden="true"></i></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>        
    </div>

    <div class="tab-pane fade" id="nav-devices" role="tabpanel" aria-labelledby="nav-devices-tab">
        
    </div>
  </div>

  
  <div class="row crud-footer">
    <div class="col-md-12">
      <button class="btn btn-danger btn-circular left" (click)="onCancelClick()" data-toggle="tooltip" data-placement="right" title="Cancelar"><i class="fa fa-times"></i></button>
      <button class="btn btn-success btn-circular right" (click)="onSaveClick()" data-toggle="tooltip" data-placement="left" title="Guardar"><i class="fa fa-check"></i></button>
    </div>
  </div>
</div>
